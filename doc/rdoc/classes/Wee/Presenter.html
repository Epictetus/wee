<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Wee::Presenter</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Wee::Presenter</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/wee/core_ext_rb.html">
                lib/wee/core_ext.rb
                </a>
        <br />
                <a href="../../files/lib/wee/template_rb.html">
                lib/wee/template.rb
                </a>
        <br />
                <a href="../../files/lib/wee/core/presenter_rb.html">
                lib/wee/core/presenter.rb
                </a>
        <br />
                <a href="../../files/lib/wee/adaptors/rails_rb.html">
                lib/wee/adaptors/rails.rb
                </a>
        <br />
                <a href="../../files/lib/wee/adaptors/nitro_rb.html">
                lib/wee/adaptors/nitro.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="../Object.html">
                Object
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
<a href="Presenter.html">Wee::Presenter</a> is the superclass of all
classes that want to participate in rendering and callback-processing. <a
href="Component.html">Wee::Component</a> and <a
href="Decoration.html">Wee::Decoration</a> are it&#8217;s two most
important subclasses.
</p>

    </div>


    <div id="contents-list">
      <h3 class="section-bar">Contents</h3>
      <ul>
      <li><a href="#SEC00035">Session</a></li>
      <li><a href="#SEC00036">Properties</a></li>
      <li><a href="#SEC00105">Render</a></li>
      <li><a href="#SEC00106">Callback</a></li>
      <li><a href="#SEC00107">Backtrack</a></li>
     </ul>
   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000381">backtrack_state</a>&nbsp;&nbsp;
      <a href="#M000375">do_render</a>&nbsp;&nbsp;
      <a href="#M000370">get_property</a>&nbsp;&nbsp;
      <a href="#M000371">lookup_property</a>&nbsp;&nbsp;
      <a href="#M000380">process_callbacks</a>&nbsp;&nbsp;
      <a href="#M000368">properties</a>&nbsp;&nbsp;
      <a href="#M000369">properties=</a>&nbsp;&nbsp;
      <a href="#M000377">r</a>&nbsp;&nbsp;
      <a href="#M000374">render</a>&nbsp;&nbsp;
      <a href="#M000376">renderer</a>&nbsp;&nbsp;
      <a href="#M000364">renderer_class</a>&nbsp;&nbsp;
      <a href="#M000383">renderer_class</a>&nbsp;&nbsp;
      <a href="#M000382">renderer_class</a>&nbsp;&nbsp;
      <a href="#M000379">renderer_class</a>&nbsp;&nbsp;
      <a href="#M000367">send_render_response</a>&nbsp;&nbsp;
      <a href="#M000366">send_response</a>&nbsp;&nbsp;
      <a href="#M000365">session</a>&nbsp;&nbsp;
      <a href="#M000373">template</a>&nbsp;&nbsp;
      <a href="#M000372">uses_property</a>&nbsp;&nbsp;
      <a href="#M000378">with_renderer_for</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000364" class="method-detail">
        <a name="M000364"></a>

        <div class="method-heading">
          <a href="#M000364" class="method-signature">
          <span class="method-name">renderer_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000364-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000364-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 3</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">renderer_class</span>
    <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">DefaultRenderer</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>
    <div id="section">
      <h2 class="section-title"><a name="SEC00035">Session</a></h2>
      <div class="section-comment">
        
      </div>      





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000365" class="method-detail">
        <a name="M000365"></a>

        <div class="method-heading">
          <a href="#M000365" class="method-signature">
          <span class="method-name">session</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the current session. A presenter (or component) has always an
associated session. The returned object is of class <a
href="Session.html">Wee::Session</a> or a subclass thereof.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000365-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000365-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 17</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">session</span>
    <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">current</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000367" class="method-detail">
        <a name="M000367"></a>

        <div class="method-heading">
          <a href="#M000367" class="method-signature">
          <span class="method-name">send_render_response</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Call the block inside a rendering environment, then send the response
prematurely.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000367-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000367-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 31</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_render_response</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-comment cmt"># Generate a response</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">GenericResponse</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'text/html'</span>, <span class="ruby-value str">''</span>)

    <span class="ruby-comment cmt"># Get the current context we are in</span>
    <span class="ruby-identifier">context</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">current_context</span>

    <span class="ruby-comment cmt"># A rendering context is needed to use 'r' (if you want, you can simply</span>
    <span class="ruby-comment cmt"># omit this and just return the response with some html/xml filled in.</span>
    <span class="ruby-identifier">rendering_context</span> = <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">RenderingContext</span>.<span class="ruby-identifier">new</span>(
      <span class="ruby-identifier">context</span>,
      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">current_callbacks</span>, 
      <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">HtmlWriter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">response</span>.<span class="ruby-identifier">content</span>))

    <span class="ruby-identifier">with_renderer_for</span>(<span class="ruby-identifier">rendering_context</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)

    <span class="ruby-identifier">send_response</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000366" class="method-detail">
        <a name="M000366"></a>

        <div class="method-heading">
          <a href="#M000366" class="method-signature">
          <span class="method-name">send_response</span><span class="method-args">(response)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Send a premature response.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000366-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000366-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 25</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_response</span>(<span class="ruby-identifier">response</span>)
    <span class="ruby-identifier">throw</span> <span class="ruby-identifier">:wee_abort_callback_processing</span>, <span class="ruby-identifier">response</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>
    <div id="section">
      <h2 class="section-title"><a name="SEC00036">Properties</a></h2>
      <div class="section-comment">
        
      </div>      





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000373" class="method-detail">
        <a name="M000373"></a>

        <div class="method-heading">
          <a href="#M000373" class="method-signature">
          <span class="method-name">template</span><span class="method-args">(method, hash={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000373-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000373-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/template.rb, line 2</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">template</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">hash</span>={}) 
    <span class="ruby-identifier">method</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>

    <span class="ruby-identifier">file_code</span> = 
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:property</span>)
        <span class="ruby-node">&quot;lookup_property(#{ hash[:property].inspect })&quot;</span>
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:file</span>)
        <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:file</span>].<span class="ruby-identifier">inspect</span>
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:local</span>)
        <span class="ruby-comment cmt"># like file, but use relative to current path</span>

        <span class="ruby-identifier">caller_path</span> = <span class="ruby-identifier">caller</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/:\d+$/</span>, <span class="ruby-value str">&quot;&quot;</span>)

        <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">caller_path</span>), <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:local</span>]).<span class="ruby-identifier">inspect</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">caller_path</span> = <span class="ruby-identifier">caller</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/:\d+$/</span>, <span class="ruby-value str">&quot;&quot;</span>)
        <span class="ruby-identifier">basename</span> = <span class="ruby-identifier">caller_path</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">caller_path</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-value str">&quot;.rb&quot;</span>)]
        <span class="ruby-identifier">ext</span> = <span class="ruby-value str">'.tpl'</span>

        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^render(.*)$/</span>
          <span class="ruby-identifier">basename</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ext</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">tr</span>(<span class="ruby-value str">'_'</span>, <span class="ruby-value str">'-'</span>)
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>
        <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">inspect</span>
      <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:r_as_param</span>]
      <span class="ruby-identifier">class_eval</span> <span class="ruby-node">%{
        def #{ method }(r)
          r.template(#{ file_code })
        end
      }</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">class_eval</span> <span class="ruby-node">%{
        def #{ method }
          r.template(#{ file_code })
        end
      }</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000372" class="method-detail">
        <a name="M000372"></a>

        <div class="method-heading">
          <a href="#M000372" class="method-signature">
          <span class="method-name">uses_property</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is currently only used for describing which properties are required by
the underlying component.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000372-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000372-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 119</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">uses_property</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000370" class="method-detail">
        <a name="M000370"></a>

        <div class="method-heading">
          <a href="#M000370" class="method-signature">
          <span class="method-name">get_property</span><span class="method-args">(prop)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an &quot;owned&quot; property.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000370-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000370-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 62</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_property</span>(<span class="ruby-identifier">prop</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">properties</span>
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">properties</span>[<span class="ruby-identifier">prop</span>]
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000371" class="method-detail">
        <a name="M000371"></a>

        <div class="method-heading">
          <a href="#M000371" class="method-signature">
          <span class="method-name">lookup_property</span><span class="method-args">(prop)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Tries to lookup a property from different places. <tt>nil</tt> as property
value is not allowed!
</p>
<p>
Search order:
</p>
<ol>
<li>self.get_property(prop)

</li>
<li>session.get_property(prop, self.class)

</li>
<li>application.get_property(prop, self.class)

</li>
<li>session.get_property(prop, nil)

</li>
<li>application.get_property(prop, nil)

</li>
<li>@@properties[prop]

</li>
</ol>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000371-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000371-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 88</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lookup_property</span>(<span class="ruby-identifier">prop</span>)
    <span class="ruby-identifier">val</span> = <span class="ruby-identifier">get_property</span>(<span class="ruby-identifier">prop</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>

    <span class="ruby-identifier">sess</span> = <span class="ruby-identifier">session</span>()
    <span class="ruby-identifier">app</span> = <span class="ruby-identifier">sess</span>.<span class="ruby-identifier">application</span>
    <span class="ruby-identifier">klass</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>

    <span class="ruby-identifier">val</span> = <span class="ruby-identifier">sess</span>.<span class="ruby-identifier">get_property</span>(<span class="ruby-identifier">prop</span>, <span class="ruby-identifier">klass</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>

    <span class="ruby-identifier">val</span> = <span class="ruby-identifier">app</span>.<span class="ruby-identifier">get_property</span>(<span class="ruby-identifier">prop</span>, <span class="ruby-identifier">klass</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>

    <span class="ruby-identifier">val</span> = <span class="ruby-identifier">sess</span>.<span class="ruby-identifier">get_property</span>(<span class="ruby-identifier">prop</span>, <span class="ruby-keyword kw">nil</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>

    <span class="ruby-identifier">val</span> = <span class="ruby-identifier">app</span>.<span class="ruby-identifier">get_property</span>(<span class="ruby-identifier">prop</span>, <span class="ruby-keyword kw">nil</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@@properties</span>)
      <span class="ruby-identifier">val</span> = <span class="ruby-ivar">@@properties</span>[<span class="ruby-identifier">prop</span>]
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000368" class="method-detail">
        <a name="M000368"></a>

        <div class="method-heading">
          <a href="#M000368" class="method-signature">
          <span class="method-name">properties</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000368-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000368-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 57</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">properties</span>() <span class="ruby-ivar">@__properties</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000369" class="method-detail">
        <a name="M000369"></a>

        <div class="method-heading">
          <a href="#M000369" class="method-signature">
          <span class="method-name">properties=</span><span class="method-args">(props)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000369-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000369-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core_ext.rb, line 58</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">properties=</span>(<span class="ruby-identifier">props</span>) <span class="ruby-ivar">@__properties</span> = <span class="ruby-identifier">props</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>
    <div id="section">
      <h2 class="section-title"><a name="SEC00105">Render</a></h2>
      <div class="section-comment">
        
      </div>      





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000375" class="method-detail">
        <a name="M000375"></a>

        <div class="method-heading">
          <a href="#M000375" class="method-signature">
          <span class="method-name">do_render</span><span class="method-args">(rendering_context)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Render the presenter in the given rendering context. <b>DO NOT</b>
overwrite this method, unless you know exactly what you&#8217;re doing!
</p>
<p>
Creates a new renderer object of the class returned by method <a
href="Presenter.html#M000364">renderer_class</a>, makes this the current
renderer, then invokes method <a href="Presenter.html#M000374">render</a>.
</p>
<dl>
<dt><tt>rendering_context</tt></dt><dd>An object of class <a href="RenderingContext.html">RenderingContext</a>

</dd>
</dl>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000375-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000375-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 33</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">do_render</span>(<span class="ruby-identifier">rendering_context</span>)
    <span class="ruby-identifier">with_renderer_for</span>(<span class="ruby-identifier">rendering_context</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-identifier">render</span>() <span class="ruby-keyword kw">end</span> 
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000374" class="method-detail">
        <a name="M000374"></a>

        <div class="method-heading">
          <a href="#M000374" class="method-signature">
          <span class="method-name">render</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This method renders the content of the presenter.
</p>
<p>
<b>OVERWRITE</b> this method in your own presenter classes to implement the
view. By default this method does nothing!
</p>
<p>
Use the current renderer as returned by <a
href="Presenter.html#M000376">renderer</a> or it&#8217;s short-cut <a
href="Presenter.html#M000377">r</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000374-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000374-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 20</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000377" class="method-detail">
        <a name="M000377"></a>

        <div class="method-heading">
          <a href="#M000377" class="method-signature">
          <span class="method-name">r</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Short cut for <a href="Presenter.html#M000376">renderer</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000377-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000377-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 43</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">r</span>() <span class="ruby-ivar">@__renderer</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000376" class="method-detail">
        <a name="M000376"></a>

        <div class="method-heading">
          <a href="#M000376" class="method-signature">
          <span class="method-name">renderer</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the current renderer object for use by the render methods.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000376-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000376-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 40</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">renderer</span>() <span class="ruby-ivar">@__renderer</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000379" class="method-detail">
        <a name="M000379"></a>

        <div class="method-heading">
          <a href="#M000379" class="method-signature">
          <span class="method-name">renderer_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the class used as renderer for this presenter. Overwrite this
method if you want to use a different renderer.
</p>
<p>
Returned class must be a subclass of <a
href="Renderer.html">Wee::Renderer</a>.
</p>
<p>
NEEDS TO BE OVERWRITTEN by some non-core files.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000379-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000379-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 66</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">renderer_class</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Method renderer_class needs to be implemented!&quot;</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000378" class="method-detail">
        <a name="M000378"></a>

        <div class="method-heading">
          <a href="#M000378" class="method-signature">
          <span class="method-name">with_renderer_for</span><span class="method-args">(rendering_context) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a new renderer object of the class returned by method <a
href="Presenter.html#M000364">renderer_class</a>, then makes this the
current renderer for the time the block it yields to executes. Finally, it
restores the current renderer to the former one and closes the newly
created renderer.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000378-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000378-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 50</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_renderer_for</span>(<span class="ruby-identifier">rendering_context</span>) 
    <span class="ruby-identifier">old_renderer</span> = <span class="ruby-ivar">@__renderer</span>
    <span class="ruby-keyword kw">begin</span>
      <span class="ruby-identifier">renderer_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rendering_context</span>, <span class="ruby-keyword kw">self</span>) {<span class="ruby-operator">|</span><span class="ruby-ivar">@__renderer</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> }
    <span class="ruby-keyword kw">ensure</span>
      <span class="ruby-ivar">@__renderer</span> = <span class="ruby-identifier">old_renderer</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>
    <div id="section">
      <h2 class="section-title"><a name="SEC00106">Callback</a></h2>
      <div class="section-comment">
        
      </div>      





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000380" class="method-detail">
        <a name="M000380"></a>

        <div class="method-heading">
          <a href="#M000380" class="method-signature">
          <span class="method-name">process_callbacks</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Process all callbacks specified for this presenter.
</p>
<dl>
<dt><tt>block</tt></dt><dd>Specifies the action to be taken (e.g. whether to invoke input or action
callbacks).

</dd>
</dl>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000380-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000380-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 82</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process_callbacks</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword kw">self</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>
    <div id="section">
      <h2 class="section-title"><a name="SEC00107">Backtrack</a></h2>
      <div class="section-comment">
        
      </div>      





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000381" class="method-detail">
        <a name="M000381"></a>

        <div class="method-heading">
          <a href="#M000381" class="method-signature">
          <span class="method-name">backtrack_state</span><span class="method-args">(snapshot)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Dummy implementation. See <a
href="Component.html#M000339">Component#backtrack_state</a> for more
information.
</p>
<dl>
<dt><tt>snapshot</tt></dt><dd>An object of class <a href="Snapshot.html">Snapshot</a>

</dd>
</dl>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000381-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000381-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/core/presenter.rb, line 97</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">backtrack_state</span>(<span class="ruby-identifier">snapshot</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000383" class="method-detail">
        <a name="M000383"></a>

        <div class="method-heading">
          <a href="#M000383" class="method-signature">
          <span class="method-name">renderer_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000383-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000383-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/adaptors/nitro.rb, line 20</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">renderer_class</span>
    <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">Nitro</span><span class="ruby-operator">::</span><span class="ruby-constant">HtmlCanvasRenderer</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000382" class="method-detail">
        <a name="M000382"></a>

        <div class="method-heading">
          <a href="#M000382" class="method-signature">
          <span class="method-name">renderer_class</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000382-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000382-source">
<pre>
<span class="ruby-comment cmt"># File lib/wee/adaptors/rails.rb, line 20</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">renderer_class</span>
    <span class="ruby-constant">Wee</span><span class="ruby-operator">::</span><span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">HtmlCanvasRenderer</span>
  <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>